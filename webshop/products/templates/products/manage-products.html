{% extends 'webshop/base.html' %}

{% block page_title %}
Manage Products
{% endblock %}

{% block content %}

<!-- Page Header -->
<!--<div class="flex justify-between items-center mt-8 mb-4">-->
<!--    <h1 class="text-3xl font-extrabold text-cyan-400 tracking-wide drop-shadow-lg">-->
<!--        Manage Products-->
<!--    </h1>-->

<!--    <a href="{% url 'create_product' %}">-->
<!--        <button class="px-6 py-3 font-bold text-white rounded-lg transition transform duration-200 hover:scale-105"-->
<!--                style="-->
<!--                background: linear-gradient(90deg, #06b6d4, #8b5cf6);-->
<!--                box-shadow: 0 0 8px #06b6d4, 0 0 16px #8b5cf6, 0 0 24px #06b6d4;-->
<!--            ">-->
<!--            Add Product-->
<!--        </button>-->
<!--    </a>-->


<!--</div>-->

<!--&lt;!&ndash; Products Table &ndash;&gt;-->
<!--<div class="mt-8 rounded-3xl shadow-xl border border-gray-800 overflow-hidden bg-gray-900">-->

<!--    <div class="max-h-96 overflow-y-auto">-->
<!--        <table class="min-w-full text-sm">-->

<!--            <thead class="sticky top-0 bg-gray-800 border-b border-gray-700">-->
<!--            <tr class="text-left tracking-wide text-xs font-semibold text-white uppercase">-->
<!--                <th class="px-4 py-3">Name</th>-->
<!--                <th class="px-4 py-3">Price</th>-->
<!--                <th class="px-4 py-3">Stock</th>-->
<!--                <th class="px-4 py-3">Brand</th>-->
<!--                <th class="px-4 py-3">Label</th>-->
<!--                <th class="px-4 py-3">Subcategory</th>-->
<!--                <th class="px-4 py-3">Status</th>-->
<!--                <th class="px-4 py-3">Action</th>-->
<!--            </tr>-->
<!--            </thead>-->

<!--            <tbody class="divide-y divide-gray-800">-->
<!--            {% for product in products %}-->
<!--            <tr class="hover:bg-gradient-to-r hover:from-cyan-800 hover:to-purple-800 transition-colors duration-200">-->
<!--                <td class="px-4 py-3 font-medium text-white">{{ product.name }}</td>-->
<!--                <td class="px-4 py-3 text-white">€{{ product.price }}</td>-->
<!--                <td class="px-4 py-3 {% if product.stock == 0 %}text-red-500 font-bold{% else %}text-white{% endif %}">-->
<!--                    {{ product.stock }}-->
<!--                </td>-->
<!--                <td class="px-4 py-3 text-white">{{ product.brand }}</td>-->
<!--                <td class="px-4 py-3 text-white">{{ product.label }}</td>-->
<!--                <td class="px-4 py-3 text-white">{{ product.sub_category }}</td>-->
<!--                <td class="px-4 py-3 font-semibold {% if product.stock == 0 %}text-red-500{% else %}text-white{% endif %}">-->
<!--                    {{ product.display_stock }}-->
<!--                </td>-->
<!--                <td class="px-4 py-3 flex gap-2">-->
<!--                    &lt;!&ndash; Edit Button &ndash;&gt;-->
<!--                    <a href="{% url 'update_product' product.id %}">-->
<!--                        <button class="px-3 py-1 text-xs bg-gradient-to-r from-cyan-400 to-purple-500 text-white rounded-md shadow hover:scale-105 transition transform duration-200">-->
<!--                            Edit-->
<!--                        </button>-->
<!--                    </a>-->
<!--                    &lt;!&ndash; Delete Button &ndash;&gt;-->
<!--                    <a href="{% url 'delete_product' product.id %}">-->
<!--                        <button class="px-3 py-1 text-xs text-white rounded-md shadow hover:scale-105 transition transform duration-200"-->
<!--                                style="background: linear-gradient(90deg, #ff3b3b, #ff1a1a);">-->
<!--                            Delete-->
<!--                        </button>-->
<!--                    </a>-->
<!--                </td>-->
<!--            </tr>-->
<!--            {% endfor %}-->
<!--            </tbody>-->

<!--        </table>-->
<!--    </div>-->
<!--</div>-->
<div class="flex flex-col md:flex-row justify-between items-center mt-8 mb-6 gap-4">

    <!-- Page Title -->
    <h1 class="text-4xl font-extrabold text-gray-900 drop-shadow-lg tracking-wide">
        Manage Products
    </h1>

    <!-- Add Product Button -->
    <a href="{% url 'create_product' %}">
        <button class="px-6 py-3 font-bold text-white rounded-xl transition transform duration-200 hover:scale-105"
                style="
                background-color: #800020; /* Bordeaux */
                box-shadow: 0 2px 6px rgba(128,0,32,0.3);
            ">
            Add Product
        </button>
    </a>


</div>

<!-- Products Table -->
<div class="mt-6 rounded-3xl shadow-xl border border-gray-200 overflow-hidden bg-white">

    <div class="max-h-[500px] overflow-y-auto">
        <table class="min-w-full text-sm">

            <!-- Table Header -->
            <thead class="sticky top-0 bg-gray-100 border-b border-gray-300 z-10">
            <tr class="text-left text-xs font-semibold text-gray-700 uppercase tracking-wide">
                <th class="px-4 py-3">Name</th>
                <th class="px-4 py-3">Price</th>
                <th class="px-4 py-3">Stock</th>
                <th class="px-4 py-3">Brand</th>
                <th class="px-4 py-3">Label</th>
                <th class="px-4 py-3">Subcategory</th>
                <th class="px-4 py-3">Status</th>
                <th class="px-4 py-3 text-center">Action</th>
            </tr>
            </thead>

            <!-- Table Body -->
            <tbody class="divide-y divide-gray-200">
            {% for product in products %}
            <tr class="hover:bg-gray-100">

                <td class="px-4 py-3 font-medium text-gray-800 line-clamp-2 max-w-xs">{{ product.name }}</td>
                <td class="px-4 py-3 text-gray-700">€{{ product.price }}</td>
                <td class="px-4 py-3 {% if product.stock == 0 %}text-red-500 font-bold{% else %}text-gray-700{% endif %}">
                    {{ product.stock }}
                </td>
                <td class="px-4 py-3 text-gray-700">{{ product.brand }}</td>
                <td class="px-4 py-3 text-gray-700">{{ product.label }}</td>
                <td class="px-4 py-3 text-gray-700">{{ product.sub_category }}</td>
                <td class="px-4 py-3 font-semibold {% if product.stock == 0 %}text-red-500{% else %}text-gray-700{% endif %}">
                    {{ product.display_stock }}
                </td>

                <!-- Actions -->
                <td class="px-4 py-3 flex gap-2 justify-center">
                    <!-- Edit Button -->
                    <a href="{% url 'update_product' product.id %}">
                        <button class="px-3 py-1 text-xs bg-gray-800 text-white rounded-lg shadow hover:scale-105 transition transform duration-200">
                            Edit
                        </button>
                    </a>

                    <!-- Delete Button -->
                    <a href="{% url 'delete_product' product.id %}">
                        <button class="px-3 py-1 text-xs bg-gradient-to-r bg-red-950 text-white rounded-lg shadow hover:scale-105 transition transform duration-200">
                            Delete
                        </button>
                    </a>
                </td>

            </tr>
            {% endfor %}
            </tbody>

        </table>
    </div>
</div>


{% endblock %}
